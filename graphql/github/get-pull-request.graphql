query($repo_owner:String!, $repo_name:String!, $pr_id:Int!) {
  repository(name:$repo_name, owner:$repo_owner) {
    pullRequest(number:$pr_id){
      id
      headRef { target{ oid } }
      baseRefName
      headRefName
      isDraft
      databaseId
      number
      createdAt
      updatedAt
      latestOpinionatedReviews(first: 100) {
        nodes {
          author {
            login
          }
          createdAt
          state
        }
      }
      reviewRequests(first:100){
        nodes {
          asCodeOwner
          requestedReviewer {
            __typename
            ... on User {
              login
              name
            }
          }
        }
      }
      files(first:100) {
        nodes {
          path
          additions
          deletions
        }
      }
      milestone {
        title
        progressPercentage
      }
      labels(first: 10) {
        nodes {
          name
          color
        }
      }
      assignees(first: 15) {
        nodes {
          name
          login
        }
      }
      projectCards(first: 10) {
        nodes {
          project {
            name
          }
        }
      }
      suggestedReviewers {
        reviewer {
          name
          login
        }
      }
      commits(first: 100) {
        totalCount
        nodes {
          commit {
            abbreviatedOid
            message
          }
        }
      }
      title
      state
      bodyText
      reactions(first:50){
        nodes {
          id
          content
        }
      }
      comments(first:50) {
        nodes {
          reactions(first:50){
            nodes {
              id
              content
            }
          }
          author {
            login
          }
          databaseId
          bodyText
          createdAt
          updatedAt
        }
      }
      reviews(first: 50) {
        nodes {
          author { login }
          bodyText
          state
          createdAt
          updatedAt
          comments(first: 50) {
            nodes {
              createdAt
              updatedAt
              bodyText
              originalPosition
              diffHunk
              position
              outdated
              path
              databaseId
              reactions(first:50){
                nodes {
                  id
                  content
                }
              }
            }
          }
        }
      }
    }
  }
}
